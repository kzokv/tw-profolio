##########################
# Environment & modes
NODE_ENV=development                          # Set to production in staging/production deployments
AUTH_MODE=dev_bypass                          # dev_bypass for local work; switch to oauth in secure environments
PERSISTENCE_BACKEND=postgres                   # postgres | memory

##########################
# Application ports
WEB_PORT=3000
API_PORT=4000
DB_PORT=5432
REDIS_PORT=6379

##########################
# External service URLs
DB_URL=postgres://app:app@127.0.0.1:${DB_PORT}/tw_portfolio  # literal string; loadDotEnv does not expand ${DB_PORT}; replace with actual port before running
REDIS_URL=redis://127.0.0.1:${REDIS_PORT}               # same here: either hardcode the value or edit after copying

##########################
# Market data providers
DATA_PROVIDER_TIMEOUT_MS=3000                  # Timeout for upstream quote sources (ms)
PRIMARY_PROVIDER=mock-primary
FALLBACK_PROVIDER=mock-fallback

##########################
# Security/Tuning
ALLOWED_ORIGINS=http://127.0.0.1:3000,http://localhost:3000  # comma-separated CORS allowlist
RATE_LIMIT_WINDOW_MS=60000                    # Mutation throttle window (ms)
RATE_LIMIT_MAX_MUTATIONS=120                  # Max POST/PATCH/PUT/DELETE per window per user
