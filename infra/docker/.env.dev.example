##########################
# Public domains (single source of truth for tunnel routing and CORS)
PUBLIC_DOMAIN_WEB=dev-twp-web.example.com
PUBLIC_DOMAIN_API=dev-twp-api.example.com

##########################
# Postgres
POSTGRES_USER=twp
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD
POSTGRES_DB=tw_portfolio

##########################
# Redis
REDIS_PASSWORD=CHANGE_ME_STRONG_PASSWORD

##########################
# Cloudflare Tunnel
CLOUDFLARE_TUNNEL_TOKEN=PASTE_YOUR_DEV_TUNNEL_TOKEN_HERE

##########################
# Application (passed to twp-dev-api via env_file)
NODE_ENV=production
AUTH_MODE=oauth
# Required when AUTH_MODE=oauth: stable user id sent by the web app on every API request.
# Set to a single-user id (e.g. your email or "user-1") for this deployment. Do not leave this blank when AUTH_MODE=oauth or the API will return 401 for user-scoped endpoints. Used as build arg for twp-dev-web.
AUTH_USER_ID=user-1
PERSISTENCE_BACKEND=postgres
API_PORT=4000
WEB_PORT=3000
DATA_PROVIDER_TIMEOUT_MS=3000
PRIMARY_PROVIDER=mock-primary
FALLBACK_PROVIDER=mock-fallback
# ALLOWED_ORIGINS is set in docker-compose.dev.yml via Compose interpolation
# (env_file does not support variable expansion)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_MUTATIONS=120

##########################
# Optional state paths (defaults to $HOME/.local/state/tw-portfolio/dev)
# TWP_STATE_DIR=/home/ubuntu/.local/state/tw-portfolio/dev
# BACKUP_DIR=/home/ubuntu/.local/state/tw-portfolio/dev/backups
# DEPLOY_LOG_DIR=/home/ubuntu/.local/state/tw-portfolio/dev/logs/deploy
